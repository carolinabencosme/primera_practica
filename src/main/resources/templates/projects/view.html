<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{layout/base :: layout(~{::title}, ~{::th:block[@data-role='styles']}, ~{::div[@data-role='content']}, ~{::th:block[@data-role='scripts']})}">
<head>
    <title th:text="${project.name} + ' - Mockup API Server'">Project Details</title>
    <th:block data-role="styles">
        <style>
            .project-header {
                background: linear-gradient(135deg, var(--warning) 0%, #e8a80f 100%);
                border-radius: var(--r-lg);
                padding: var(--space-8);
                margin-bottom: var(--space-6);
                color: var(--text);
                box-shadow: var(--shadow-lg);
            }

            .project-header__content {
                display: flex;
                align-items: center;
                gap: var(--space-4);
                flex-wrap: wrap;
            }

            .project-icon {
                width: 80px;
                height: 80px;
                background: rgba(255, 255, 255, 0.3);
                border-radius: var(--r-lg);
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 2.5rem;
                color: white;
                border: 3px solid rgba(255, 255, 255, 0.4);
            }

            .project-info {
                flex: 1;
            }

            .project-title {
                font-size: var(--text-3xl);
                font-weight: var(--weight-bold);
                margin: 0 0 var(--space-2) 0;
                color: white;
            }

            .project-description {
                font-size: var(--text-base);
                opacity: 0.95;
                color: rgba(0, 0, 0, 0.8);
                line-height: var(--leading-relaxed);
            }

            .detail-card {
                background: var(--surface);
                border: 1px solid var(--border);
                border-radius: var(--r-lg);
                padding: var(--space-6);
                margin-bottom: var(--space-6);
            }

            .detail-card h3 {
                font-size: var(--text-xl);
                font-weight: var(--weight-semibold);
                margin-bottom: var(--space-5);
                color: var(--text);
                display: flex;
                align-items: center;
                gap: var(--space-2);
                padding-bottom: var(--space-3);
                border-bottom: 1px solid var(--border);
            }

            .detail-row {
                display: grid;
                grid-template-columns: 180px 1fr;
                gap: var(--space-4);
                padding: var(--space-4) 0;
                border-bottom: 1px solid var(--border);
            }

            .detail-row:last-child {
                border-bottom: none;
            }

            .detail-label {
                font-weight: var(--weight-semibold);
                color: var(--muted);
                font-size: var(--text-sm);
            }

            .detail-value {
                color: var(--text);
                font-size: var(--text-base);
            }

            .detail-value code {
                background: var(--surface-2);
                padding: var(--space-1) var(--space-2);
                border-radius: var(--r-sm);
                font-family: var(--font-mono);
                font-size: var(--text-sm);
            }

            .stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: var(--space-4);
                margin-bottom: var(--space-6);
            }

            .stat-card {
                background: var(--surface);
                border: 1px solid var(--border);
                border-radius: var(--r-lg);
                padding: var(--space-5);
                text-align: center;
            }

            .stat-icon {
                width: 50px;
                height: 50px;
                margin: 0 auto var(--space-3);
                background: var(--brand-bg);
                color: var(--brand);
                border-radius: var(--r-md);
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: var(--text-2xl);
            }

            .stat-value {
                font-size: var(--text-3xl);
                font-weight: var(--weight-bold);
                color: var(--text);
                margin-bottom: var(--space-1);
            }

            .stat-label {
                font-size: var(--text-sm);
                color: var(--muted);
            }

            @media (max-width: 768px) {
                .project-header {
                    padding: var(--space-6);
                }

                .project-icon {
                    width: 60px;
                    height: 60px;
                    font-size: 2rem;
                }

                .project-title {
                    font-size: var(--text-2xl);
                }

                .detail-row {
                    grid-template-columns: 1fr;
                    gap: var(--space-2);
                }

                .detail-label {
                    font-weight: var(--weight-bold);
                }
            }
        </style>
    </th:block>
    <th:block data-role="scripts"></th:block>
</head>
<body>
    <div data-role="content">
        <!-- Page Header -->
        <div class="page-header">
            <div>
                <h2 class="page-header__title">
                    <i class="bi bi-folder-fill"></i>
                    Project Details
                </h2>
                <p class="page-header__subtitle">View project information and associated mock endpoints</p>
            </div>
            <div class="page-header__actions">
                <a th:href="@{/projects}" class="btn-clean btn-ghost">
                    <i class="bi bi-arrow-left"></i> Back
                </a>
                <a th:href="@{/projects/{id}/edit(id=${project.id})}" class="btn-clean btn-soft">
                    <i class="bi bi-pencil"></i> Edit
                </a>
                <form th:action="@{/projects/{id}/delete(id=${project.id})}" method="post" style="display: inline;"
                      onsubmit="return confirm('Are you sure you want to delete this project? This will also delete all associated mock endpoints.');">
                    <button type="submit" class="btn-clean btn-danger-clean">
                        <i class="bi bi-trash"></i> Delete
                    </button>
                </form>
            </div>
        </div>

        <!-- Success/Error Messages -->
        <div th:if="${successMessage}" class="alert-clean alert-success" role="alert">
            <i class="bi bi-check-circle-fill"></i>
            <span th:text="${successMessage}">Success message</span>
        </div>

        <div th:if="${errorMessage}" class="alert-clean alert-danger" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i>
            <span th:text="${errorMessage}">Error message</span>
        </div>

        <!-- Project Header Card -->
        <div class="project-header">
            <div class="project-header__content">
                <div class="project-icon">
                    <i class="bi bi-folder-fill"></i>
                </div>
                <div class="project-info">
                    <h1 class="project-title" th:text="${project.name}">Project Name</h1>
                    <div class="project-description" th:text="${project.description ?: 'No description provided'}">
                        Project description goes here
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Project Details Section -->
            <div class="col-md-6">
                <div class="detail-card">
                    <h3>
                        <i class="bi bi-info-circle" style="color: var(--brand);"></i>
                        Project Details
                    </h3>
                    <div class="detail-row">
                        <div class="detail-label">Project ID:</div>
                        <div class="detail-value"><code th:text="${project.id}">1</code></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Project Name:</div>
                        <div class="detail-value" th:text="${project.name}">Project Name</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Created By:</div>
                        <div class="detail-value" th:text="${project.createdBy}">Username</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Created:</div>
                        <div class="detail-value" th:text="${#temporals.format(project.createdAt, 'MMMM dd, yyyy HH:mm')}">January 01, 2024 12:00</div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions Section -->
            <div class="col-md-6">
                <div class="detail-card">
                    <h3>
                        <i class="bi bi-hdd-network" style="color: var(--brand);"></i>
                        Mock Endpoints
                    </h3>
                    <p style="color: var(--muted); font-size: var(--text-sm); margin-bottom: var(--space-4);">
                        Manage and view all mock endpoints associated with this project
                    </p>
                    <div style="display: flex; flex-direction: column; gap: var(--space-3);">
                        <a th:href="@{/mocks(projectId=${project.id})}" class="btn-clean btn-brand" style="width: 100%;">
                            <i class="bi bi-list-ul"></i> View All Mocks
                        </a>
                        <a th:href="@{/mocks/new(projectId=${project.id})}" class="btn-clean btn-soft" style="width: 100%;">
                            <i class="bi bi-plus-circle"></i> Create New Mock
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Additional Information -->
        <div class="detail-card">
            <h3>
                <i class="bi bi-clock-history" style="color: var(--brand);"></i>
                Timeline
            </h3>
            <div class="detail-row">
                <div class="detail-label">Created Date:</div>
                <div class="detail-value" th:text="${#temporals.format(project.createdAt, 'MMMM dd, yyyy')}">January 01, 2024</div>
            </div>
            <div class="detail-row">
                <div class="detail-label">Project Age:</div>
                <div class="detail-value">
                    <span th:with="days=${T(java.time.temporal.ChronoUnit).DAYS.between(project.createdAt, T(java.time.LocalDateTime).now())}" 
                          th:text="${days} + ' day(s)'">0 day(s)</span>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
